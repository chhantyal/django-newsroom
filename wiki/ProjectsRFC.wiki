#summary How projects fit into django-newsroom
#labels Phase-Implementation

= Introduction =

Much of this discussion begins with the question:

  # Where will project landing pages live and how will they be rendered.  

An affiliate domain may have one or more project landing pages or mini-sites with unique URLs or permalinks. 
The word permalink is used to denote a URL that should never change and is a unique identifier for that project.  This leads to less confusion for others linking to the site and maximizes search engine ranking.

The project will have a permalink under either: 

  * http://news21.com/projects/a_project_slug
  * http://asu.news21.com/projects/a_project_slug

If the latter is used then the project resides under a different domain so the site field is required to render the full URL or permalink.


= Schema =

Project have one or more affiliates and a site.  Stories have one or more projects.
{{{
story (n) ---- (n) project (1) ----- (n) site
                     (n)
                      |
                      |  
                     (n)
                  affiliate
}}}
= Model =
{{{
class Project(models.Model):
    """
    A project is always related to an affiliate and relates to a page
    that defines a project's landing page.    """

    affiliate = models.ManyToManyField(Affiliate)    
    site = models.ForeignKey(Site)
    url = models.URLField(
            blank=True,
            verify_exists=False,
            help_text="Is the project a separate website? Provide the public URL if it has one.",)
    title = models.CharField(
                max_length=100,
                help_text='The title of the project. i.e. "The American Dream"')
    slug = models.SlugField(unique=True)
    summary = models.TextField(
                help_text='Provide a summary that can be used to describe the project.')

    activity_begins = models.DateField(
                        help_text="When does production begin for this project?")

    activity_ends = models.DateField(
                        help_text="When is all production forcasted to end for this project?")

    comment_status = models.CharField(
                        max_length=1,
                        help_text="How should comments be treated for stories related to this project?",
                        choices = COMMENT_STATUS_CHOICES,
                        default = COMMENT_STATUS_OPEN,)


class Page(models.Model):
    """
    A project landing page, similar to story pages but there are not 
    multiple pages.
    """
    project = models.ForeignKey(Project,unique=True)
    content = models.TextField(
                help_text='The landing page for the project.',)


}}}